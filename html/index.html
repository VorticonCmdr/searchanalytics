<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, user-scalable=0"
        />

        <title>Search Analytics alternative</title>

        <link rel="stylesheet" href="/css/bootstrap.v5.3.min.css" />
        <link
            rel="stylesheet"
            href="/bootstrap-icons-1.8.1/bootstrap-icons.css"
        />
        <link rel="stylesheet" href="/css/bootstrap-table.min.v1.24.1.css" />
        <link rel="stylesheet" href="/css/searchanalytics.css" />

        <link
            rel="stylesheet"
            href="/css/billboard.min.css"
            media="(prefers-color-scheme: light)"
        />
        <link
            rel="stylesheet"
            href="/css/billboard.dark.min.css"
            media="(prefers-color-scheme: dark)"
        />
    </head>

    <body class="bg-better-gray">
        <nav class="navbar navbar-expand-lg bg-white">
            <div class="container-fluid">
                <div class="dropdown">
                    <span class="navbar-brand" data-bs-toggle="dropdown" aria-expanded="false">
                        <img
                            id="logo"
                            src="/icons/logo-180.png"
                            alt="logo"
                            width="40"
                            height="40"
                        />
                    </span>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item active" href="#">property by hour</a>
                        </li>
                        <li><a class="dropdown-item" href="/html/days.html">property by day</a></li>
                        <li>
                            <a class="dropdown-item" href="/html/hourly.html">pages by hour</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <select id="type" class="form-select">
                        <option value="discover">Discover</option>
                        <option value="googleNews">Google News</option>
                        <option value="web">Web (search)</option>
                        <option value="news">News (search)</option>
                        <option value="image">Image (search)</option>
                        <option value="video">Video (search)</option>
                    </select>
                </div>
                <div class="input-group">
                    <input
                        type="search"
                        class="form-control"
                        placeholder="property"
                        aria-label="property"
                        id="property"
                        list="properties-list"
                    />
                    <datalist id="properties-list"></datalist>
                    <button
                        id="fetch"
                        class="btn btn-outline-secondary"
                        type="button"
                    >
                        (re)load data
                    </button>
                </div>
                <div class="input-group">
                    <button
                        type="button"
                        id="pageFilter"
                        class="btn btn-outline-secondary"
                        data-bs-toggle="modal"
                        data-bs-target="#pageFilterModal"
                    >
                        url filter
                    </button>
                </div>

                <div class="btn-group" role="group">
                    <button
                        id="auth_dropdown"
                        type="button"
                        class="btn btn-outline-primary dropdown-toggle"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                    >
                        authenticate
                    </button>
                    <ul class="dropdown-menu" data-bs-popper="static">
                        <li>
                            <a
                                class="dropdown-item"
                                id="authorize_button"
                                href="#"
                                >refresh auth</a
                            >
                        </li>
                        <li>
                            <a
                                class="dropdown-item"
                                id="signout_button"
                                href="#"
                                >sign out</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div id="chart-and-filter" class="my-2">
                <div
                    id="chart"
                    class="bg-white"
                    style="height: 400px; position: relative"
                ></div>
            </div>
        </div>

        <div class="container bg-white py-4 my-4">
            <ul class="nav nav-tabs nav-justified">
                <li data-id="hours" class="nav-item">
                    <span class="nav-link active text-primary">hours</span>
                </li>
                <li data-id="pages" class="nav-item">
                    <span class="nav-link text-secondary">pages</span>
                </li>
            </ul>
            <div class="border-start border-end">
                <div id="hoursTab" class="tab visible">
                    <table id="hourstable"></table>
                </div>

                <div id="pagesTab" class="tab invisible d-none">
                    <div id="pagestable-toolbar" class="row">
                        <div class="col">
                            <div class="input-group">
                                <span
                                    class="input-group-text"
                                    id="from-description"
                                    >from</span
                                >
                                <input
                                    type="datetime-local"
                                    class="form-control"
                                    id="from"
                                    step="3600"
                                />
                            </div>
                        </div>
                        <div class="col">
                            <div class="input-group">
                                <span
                                    class="input-group-text"
                                    id="to-description"
                                    >to</span
                                >
                                <input
                                    type="datetime-local"
                                    class="form-control"
                                    id="to"
                                    step="3600"
                                />
                            </div>
                        </div>
                    </div>
                    <table id="pagestable"></table>
                </div>
            </div>
        </div>

        <div
            class="modal fade"
            id="pageFilterModal"
            data-bs-backdrop="static"
            data-bs-keyboard="true"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">
                            Page
                        </h1>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <select id="urlFilterMode" class="form-select">
                                <option value="*">URLs containing</option>
                                <option value="-">URLs not containing</option>
                                <option value="=">Exact URL</option>
                                <option value="!">Not exact URL</option>
                                <option value="~">Custom (matches regex)</option>
                                <option value="_">Custom (Doesn't match regex)</option>
                            </select>
                        </div>
                        <div class="form-floating">
                          <input type="search" class="form-control" id="floatingPageFilterInput" placeholder="https://www.example.com/">
                          <label for="floatingPageFilterInput">https://www.example.com/</label>
                        </div>
                    <div class="modal-footer border border-0">
                        <button
                            type="button"
                            class="btn btn-link btn-light link-underline link-underline-opacity-0 link-underline-opacity-0-hover"
                            data-bs-dismiss="modal"
                        >
                            Cancel
                        </button>
                        <button id="applyPageFilter" type="button" class="btn btn-primary">
                            Apply
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script src="/js/jquery-3.7.1.min.js"></script>
        <script src="/js/bootstrap.bundle.v5.3.min.js"></script>

        <script src="/js/tableExport.min.v1.33.0.js"></script>
        <script src="/js/bootstrap-table.min.v1.24.1.js"></script>
        <script src="/js/bootstrap-table-export.min.v1.24.1.js"></script>

        <script src="/js/d3.v7.8.5.min.js" charset="utf-8"></script>
        <script src="/js/billboard.min.js"></script>

        <script src="/js/gsc-hourly.js"></script>
    </body>
</html>
